<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
var question_no = 0
var results_html = ""
var results_list = []
var result_number = 0
var result_no = ""
var result_explanation_list = []
function add_question(){
	question_no++
	var html_question_begining = "<div id='q"
	var html_question_middle = "'><table border=2><tr class='results' id='resultsq" + question_no + "'><td></td></tr><tr><td>Question<input id='question"
	var html_question_end = "' name='question" + question_no + "' ></input><br/></td></tr><tr class='a1' id='a1q" + question_no + "'><td>Answer1<input id='option1button' name='answer1_q" + question_no + "'></input><br/></td></tr><tr class='a2' id='a2q" + question_no + "'><td>Answer2<input id='option2button' name='answer2_q" + question_no + "'></input><br/></td></tr><tr class='a3' id='a3q" + question_no + "'><td>Answer3<input id='option3button' name='answer3_q" + question_no + "'></input><br/></td></tr><tr class='a4' id='a4q" + question_no + "'><td>Answer4<input id='option4button' name='answer4_q" + question_no + "'></input><br/></td></tr></div></table>"
	$("#questions").append(html_question_begining + question_no + html_question_middle + question_no +  html_question_end)
	var results_no = "#resultsq" + question_no

	for (var i = 1; i < results_list.length + 1; i++) {
		$(results_no).append("<td title='" + result_explanation_list[i-1] + "'>" + results_list[i-1] +  "</td>")	
		$("#a1q" + question_no).append("<td><input type='text' name='r1_" + i +"_" + question_no + "'></input></td>")
		$("#a2q" + question_no).append("<td><input type='text' name='r2_" + i +"_" + question_no + "'></input></td>")
		$("#a3q" + question_no).append("<td><input type='text' name='r3_" + i +"_" + question_no + "'></input></td>")
		$("#a4q" + question_no).append("<td><input type='text' name='r4_" + i +"_" + question_no + "'></input></td>")
}
}
function add_result(){
	if ($("#result").val() == ""){
		if ($("#errorMessages").text() != "Give your Result a name!"){
			$("#errorMessages").append("Give your Result a name!")
		}
	}
	else{
		$("#errorMessages").empty()
	result_number++
	var result = $("#result").val()
	results_list.push(result)
	var result_explanation = $("#result_explanation").val()
	result_explanation_list.push(result_explanation)
	$(".results").append("<td title='"+ result_explanation  + "'>"  +result+"</td>")
	for (var i =1; i < question_no +1; i++) {
		$("#a1q" + i).append("<td><input type='number' name='r1_" + result_number + "_" + i + "'></input></td>")
		$("#a2q" + i).append("<td><input type='text' name='r2_" + result_number + "_" + i + "'></input></td>")
		$("#a3q" + i).append("<td><input type='text' name='r3_" + result_number + "_" + i + "'></input></td>")
		$("#a4q" + i).append("<td><input type='text' name='r4_" + result_number + "_" + i + "'></input></td>")
	}	
	results_html += "<td>" + result + "</td>"
	$("#All_Results").val(results_list)
	$("#All_Results_Explanation").val(result_explanation_list)
	}
}

</script>
<body onload="add_question()">
<form action="created/" method="post"> 
{% csrf_token %}
Quiz name:<input type="text" name="Quiz_Name" required> Result name: <input type="text" id="result" required ></input> <button type = "button" onclick="add_result();">Add another Result</button><br>
Quiz description: <input type="text" name="Quiz_Description">Result explanation <input type="text" name="explanation" id="result_explanation"></input> <br>
<input type="hidden" type = 'text' id='All_Results' name='All_Results'>
<input type="hidden" type = "text" id="All_Results_Explanation" name="All_Results_Explanation">
<div id="errorMessages"></div>
<div id="questions"></div>
</input>

<button type="button" onclick="add_question();">Add another question</button>
<input type="submit" value="Submit Quiz" /></form>
</body>
